(this["webpackJsonpe-learning"]=this["webpackJsonpe-learning"]||[]).push([[0],{105:function(e,a,t){e.exports=t(234)},110:function(e,a,t){},111:function(e,a,t){},134:function(e,a,t){},234:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(46),l=t.n(c),o=(t(110),t(2)),i=t(3),s=t(7),u=t(8),m=t(103),d=t(5),p=t(27),f=(t(111),t(13)),b=t(60),h=t.n(b),v=t(96),E=t(11),y=t(36),g=t.n(y),O=function(){var e,a=Object(E.c)((function(e){return e.player.playerList})),t=Object(E.c)((function(e){return e.card.deckCard})),n=Object(E.b)(),c=!1,l=function(){var e=Object(v.a)(h.a.mark((function e(){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!==a[0].cards.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g()({url:"https://deckofcardsapi.com/api/deck/".concat(t.deck_id,"/draw/?count=12"),method:"GET"});case 5:r=e.sent,n({type:"ADD_CARDS",payload:r.data.cards}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),o=Object(f.a)(a);try{for(o.s();!(e=o.n()).done;){if(0===e.value.totalPoint){c=!0;break}}}catch(i){o.e(i)}finally{o.f()}return r.a.createElement("div",{className:"d-flex  justify-content-end container"},r.a.createElement("div",{className:"border d-flex justify-content-center align-items-center px-2"},r.a.createElement("button",{disabled:c,className:"btn btn-success mr-2",onClick:function(){g()({url:"https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1",method:"GET"}).then((function(e){n({type:"SHUFFLE_CARDS",payload:e.data})})).catch((function(e){console.log(e)}))}},"Shuffle"),r.a.createElement("button",{disabled:c,className:"btn btn-info mr-2",onClick:l},"Draw"),r.a.createElement("button",{disabled:c,className:"btn btn-primary mr-2",onClick:function(){n({type:"REVEAL_CARDS"})}},"Reveal")),r.a.createElement("div",{className:"d-flex"},a.map((function(e){return r.a.createElement("div",{className:"border px-3 text-center",key:e.email},r.a.createElement("p",null," ",e.username," "),r.a.createElement("p",null," ",e.totalPoint," "))}))))},j=(t(134),function(e){var a=e.card,t=Object(E.c)((function(e){return e.status.isReveal}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:"card",className:"card",src:t?a.image:"https://i.pinimg.com/originals/10/80/a4/1080a4bd1a33cec92019fab5efb3995d.png"}))}),C=function(e){return r.a.createElement("div",{className:"player-".concat(null===e||void 0===e?void 0:e.index)},r.a.createElement("p",{className:"lead"},null===e||void 0===e?void 0:e.player.username),r.a.createElement("main",{className:"d-flex"},e.player.cards.map((function(e){return r.a.createElement(j,{key:e.code,card:e})}))))},k=function(){var e=Object(E.c)((function(e){return e.player.playerList}));return r.a.createElement("div",{style:{position:"relative",height:"600px"},className:"container"},e.map((function(e,a){return r.a.createElement(C,{index:a+1,player:e,key:e.username})})),r.a.createElement("img",{alt:"main",style:{position:"absolute",width:"100px",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},src:"https://i.pinimg.com/originals/10/80/a4/1080a4bd1a33cec92019fab5efb3995d.png"}))},N=function(){var e=Object(E.b)();return Object(n.useEffect)((function(){g()({url:"https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1",method:"GET"}).then((function(a){e({type:"FETCH_CARD",payload:a.data})})).catch((function(e){console.log(e)}))}),[e]),r.a.createElement(n.Fragment,null,r.a.createElement(O,null),r.a.createElement(k,null))},w=t(104),_=t(37),D=_.a().shape({username:_.b().required(),email:_.b().required().email(),phone:_.b().required().matches(/^[0-9]+$/)}),x=function(){var e=Object(n.useState)(!1),a=Object(p.a)(e,2),t=a[0],c=a[1],l=Object(E.b)(),o=Object(w.a)({initialValues:{username:"",email:"",phone:"",totalPoint:25e3,cards:[]},validationSchema:D,validateOnMount:!0}),i=o.handleChange,s=o.values,u=o.errors,m=o.isValid,d=o.handleBlur,f=o.touched,b=o.setValues,h=Object(n.useCallback)((function(e){e.preventDefault(),m&&(l({type:"ADD_PLAYER",payload:s}),c(!0))}),[f,u,m,l,s,c]),v=Object(n.useCallback)((function(){b({username:"hoang",email:"hoang@gmail.com",phone:"123123123",totalPoint:25e3,cards:[]})}),[b]);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(N,null):r.a.createElement("div",{className:"",style:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("h1",{className:"diplay-4 mb-5"}," Welcome to Pocker Center"),r.a.createElement("h3",null,"Fill your info and start"),r.a.createElement("form",{onSubmit:h,className:"w-25 mx-auto"},r.a.createElement("input",{type:"input",name:"username",onChange:i,onBlur:d,value:s.username,placeholder:"username",className:"w-100 form-control mb-3"}),f.username&&u.username&&r.a.createElement("p",{className:"text-danger"},u.username),r.a.createElement("input",{type:"input",name:"email",onChange:i,onBlur:d,value:s.email,placeholder:"email",className:"w-100 form-control mb-3"}),f.email&&u.email&&r.a.createElement("p",{className:"text-danger"},u.email),r.a.createElement("input",{type:"input",name:"phone",onChange:i,onBlur:d,value:s.phone,placeholder:"phone",className:"w-100 form-control mb-3"}),f.phone&&u.phone&&r.a.createElement("p",{className:"text-danger"},u.phone),r.a.createElement("button",{className:"btn btn-success",disabled:!m},"Start new Game")),r.a.createElement("button",{onClick:v,className:"btn btn-primary"},"Set default player")))},S=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",component:x})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=t(35),R=t(10),L=t(9),F={playerList:[{username:"Player 1",email:"player1@gmail.com",phone:"1829839030",totalPoint:25e3,cards:[]},{username:"Player 2",email:"player2@gmail.com",phone:"8849839939",totalPoint:25e3,cards:[]},{username:"Player 3",email:"player3@gmail.com",phone:"894589485",totalPoint:25e3,cards:[]}]},P=function(e){var a,t=["KING","JACK","QUEEN"],n=Object(f.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(!t.includes(r.value))return!1}}catch(c){n.e(c)}finally{n.f()}return!0},T=function(e){return"ACE"===e?1:["KING","JACK","QUEEN"].includes(e)?10:+e},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"ADD_PLAYER":return e.playerList=[n].concat(Object(L.a)(e.playerList)),Object(R.a)({},e);case"ADD_CARDS":var r=Object(L.a)(e.playerList),c=r.length;for(var l in n){var o=l%c;r[o].cards.push(n[l])}return Object(R.a)(Object(R.a)({},e),{},{playerList:r});case"REVEAL_CARDS":var i,s=[],u=0,m=[],d=Object(L.a)(e.playerList),p=Object(f.a)(d);try{for(p.s();!(i=p.n()).done;){var b=i.value;if(P(b.cards))s.push(b);else{var h=b.cards.reduce((function(e,a){return e+T(a.value)}),0)%10;h>u?(u=h,m=[b]):h===u&&m.push(b)}}}catch(N){p.e(N)}finally{p.f()}var v,E=s.length?s:m,y=Object(f.a)(d);try{var g=function(){var e=v.value;-1!==E.findIndex((function(a){return a.username===e.username}))?e.totalPoint+=(2e4/E.length).toFixed(0)-5e3:e.totalPoint-=5e3};for(y.s();!(v=y.n()).done;)g()}catch(N){y.e(N)}finally{y.f()}return Object(R.a)(Object(R.a)({},e),{},{playerList:d});case"SHUFFLE_CARDS":var O,j=Object(L.a)(e.playerList),C=Object(f.a)(j);try{for(C.s();!(O=C.n()).done;){var k=O.value;k.cards=[]}}catch(N){C.e(N)}finally{C.f()}return Object(R.a)(Object(R.a)({},e),{},{playerList:j});default:return e}},V={deckCard:{}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"FETCH_CARD":case"SHUFFLE_CARDS":return Object(R.a)(Object(R.a)({},e),{},{deckCard:n});default:return e}},B={isReveal:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,a=arguments.length>1?arguments[1]:void 0,t=a.type;a.payload;switch(t){case"REVEAL_CARDS":return e.isReveal=!0,Object(R.a)({},e);case"SHUFFLE_CARDS":return e.isReveal=!1,Object(R.a)({},e);default:return e}},H=Object(A.b)({player:U,card:I,status:G}),J=Object(A.c)(H,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E.a,{store:J},r.a.createElement(S,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[105,1,2]]]);
//# sourceMappingURL=main.f17277e4.chunk.js.map